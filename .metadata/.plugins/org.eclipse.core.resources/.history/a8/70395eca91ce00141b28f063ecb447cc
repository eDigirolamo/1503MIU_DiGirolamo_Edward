Titanium.UI.setBackgroundColor('#000');

var deviceData = require("JSON");
var phones = deviceData.deviceData.phones;

var pWidth = Ti.Platform.displayCaps.platformWidth;
var pHeight = Ti.Platform.displayCaps.platformHeight;
var margin = 10;

var deviceCount = phones.length;
var rowCount = 3;

var availableWidth = pWidth - (margin * 4);
var size = (availableWidth / rowCount);

// windows
var mainWin = Ti.UI.createWindow({
		title: "Info App",
});

var galleryContainer = Ti.UI.createScrollView({
	backgroundColor: "#fff",
	layout: "horizontal",

	width: pWidth,
	contentWidth: pWidth,
});

var navWin = Ti.UI.iOS.createNavigationWindow({
	window: mainWin
});




var myImages = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, "images");
	// this lists images in resource folder like an array	
// loop through data and populate list
for(n in phones){
			var view = Ti.UI.createImageView({
				backgroundColor: "#fff",
				image: "images/" + phones[n].image,
				name: phones[n].name,
				manufacturer: phones[n].manufacturer,
				cpu: phones[n].cpu,
				ram: phones[n].ram,
				storage: phones[n].storage, 
				screenSize: phones[n].screenSize,
				camera:  phones[n].camera, 
				codename: phones[n].codename, 
				osVersion: phones[n].osVersion, 
				newFeature: phones[n].newFeature,
				top: margin,
				left: margin,
				width: size,
				height: size,
				borderRadius: 3	
			});
			
			// must add to scrollview in order for imageview to not be placed over itself
			
			galleryContainer.add(view);
}
galleryContainer.addEventListener("click", function(event){
	
	var name = event.source.name;
	var manufacturer = event.source.manufacturer;
	var cpu = event.source.cpu;
	var ram = event.source.ram;
	var storage = event.source.storage;
	var screenSize = event.source.screenSize;
	var camera = event.source.camera;
	var codename = event.source.codename;
	var osVersion = event.source.osVersion;
	var newFeature = event.source.newFeature;
	
	info(name, manufacturer, cpu, ram, storage, screenSize,camera, codename, osVersion, newFeature );

	
	
});


var info = function(name, manufacturer, cpu, ram, storage, screenSize,camera, codename, osVersion, newFeature ){
	var detailWin = Ti.UI.createWindow({
		title: name
		
	});
	
	var manLable =Ti.UI.createLabel({
		
	});
	var cpuLabel = Ti.UI.createLabel({
		
	});
	
	var ramLabel = Ti.UI.createLabel({
		
	});
	
	var storageLabel = Ti.UI.createLabel({
		
	});
	
	var screenSizeLabel = Ti.UI.createLabel({
		
	});
	
	var camLabel= Ti.UI.createLabel({
		
	});
	
	var codenameLabel =Ti.UI.createLabel({
		
	});
	
	var osVeriosnLabel = Ti.UI.createLabel({
		
	});
	
	var newFeatureLabel = Ti.UI.createLabel({
		
	});
	
	detailWin.add(manLable, cpuLabel, ramLabel, storageLabel, screenSizeLabel, camLabel, codenameLabel, osVeriosnLabel, newFeatureLabel);
	navWin.open(detailWin);
	
};
			
mainWin.add(galleryContainer);
navWin.open();
